# Kubernetes - Calico ë²„ì „ í˜¸í™˜ì„± ë§¤íŠ¸ë¦­ìŠ¤

## ğŸ“Š **ì¡°ì‚¬ ê²°ê³¼ ìš”ì•½**

### ğŸ” **Kubernetes 1.23~1.27 ë²„ì „ê³¼ Calico í˜¸í™˜ì„±**

ë³¸ ì¡°ì‚¬ëŠ” Kubernetes 1.23~1.27 ë²„ì „ê³¼ í˜¸í™˜ë˜ëŠ” Calico ë²„ì „ì„ ì¡°ì‚¬í•˜ê³ , ê´€ë ¨ í”Œë ˆì´ë¶ì„ ê°œë°œí•˜ê¸° ìœ„í•´ ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ **ê¶Œì¥ Kubernetes - Calico ë²„ì „ ì¡°í•©**

| Kubernetes ë²„ì „ | ê¶Œì¥ Calico ë²„ì „ | ìµœì†Œ Calico ë²„ì „ | Operator ë²„ì „ | ì¶œì‹œ ì‹œê¸° | ì£¼ìš” íŠ¹ì§• |
|-----------------|----------------|----------------|---------------|----------|----------|
| **1.23.x** | **3.24.6** | 3.22.0 | v1.30.9 | 2021-2022 | ì•ˆì •ì ì¸ ì¡°í•©, ì¥ê¸° ì§€ì› |
| **1.24.x** | **3.25.2** | 3.23.0 | v1.32.7 | 2022 | Dockershim ì œê±° ëŒ€ì‘ |
| **1.25.x** | **3.26.4** | 3.24.0 | v1.34.3 | 2022-2023 | PodSecurityPolicy ì œê±° |
| **1.26.x** | **3.27.4** | 3.25.0 | v1.36.1 | 2022-2023 | ì„±ëŠ¥ ìµœì í™” |
| **1.27.x** | **3.28.2** | 3.26.0 | v1.38.1 | 2023 | ìµœì‹  ê¸°ëŠ¥ ì§€ì› |

### ğŸ“‹ **ë²„ì „ ì„ íƒ ê¸°ì¤€**

1. **ì•ˆì •ì„±**: ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ì™€ ì»¤ë®¤ë‹ˆí‹° í”¼ë“œë°±ì„ ë°›ì€ ë²„ì „
2. **í˜¸í™˜ì„±**: Kubernetes API ë²„ì „ê³¼ì˜ ì™„ì „í•œ í˜¸í™˜ì„±
3. **ì„±ëŠ¥**: íŠ¹íˆ Calico 3.25.1+ ë²„ì „ì˜ vertical scaling ì„±ëŠ¥ ê°œì„ 
4. **ë³´ì•ˆ**: ìµœì‹  ë³´ì•ˆ íŒ¨ì¹˜ê°€ ì ìš©ëœ ë²„ì „

---

## ğŸš€ **ì£¼ìš” ê°œì„ ì‚¬í•­ ë° íŠ¹ì§•**

### **Calico 3.25.1+ ì„±ëŠ¥ ê°œì„ **
- **ìˆ˜ì§ í™•ì¥(Vertical Scaling) ìµœì í™”**: 500+ pods per node ì§€ì›
- **CPU ì‚¬ìš©ëŸ‰ ìµœì í™”**: resync ì‘ì—… ì„±ëŠ¥ ê°œì„ 
- **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: ëŒ€ê·œëª¨ í´ëŸ¬ìŠ¤í„°ì—ì„œì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

### **ë²„ì „ë³„ ì£¼ìš” íŠ¹ì§•**

#### **Calico 3.22-3.24 (K8s 1.23-1.25)**
- ì•ˆì •ì ì¸ ê¸°ë³¸ ë„¤íŠ¸ì›Œí‚¹ ê¸°ëŠ¥
- eBPF ë°ì´í„°í”Œë ˆì¸ ì§€ì›
- ê¸°ë³¸ì ì¸ ë„¤íŠ¸ì›Œí¬ ì •ì±…

#### **Calico 3.25-3.26 (K8s 1.24-1.26)**
- ìˆ˜ì§ í™•ì¥ ì„±ëŠ¥ ê°œì„ 
- í–¥ìƒëœ BGP ì§€ì›
- WireGuard ì•”í˜¸í™” ê°œì„ 

#### **Calico 3.27-3.28 (K8s 1.26-1.27)**
- nftables ë°±ì—”ë“œ ì§€ì›
- ë©€í‹° í´ëŸ¬ìŠ¤í„° ë„¤íŠ¸ì›Œí‚¹
- í–¥ìƒëœ ê´€ì°° ê°€ëŠ¥ì„±

---

## ğŸ›  **ì—…ê·¸ë ˆì´ë“œ í”Œë ˆì´ë¶ íŠ¹ì§•**

### **ìë™ ë²„ì „ ë§¤ì¹­**
```yaml
# Kubernetes ë²„ì „ë³„ Calico ê¶Œì¥ ë²„ì „ ë§¤íŠ¸ë¦­ìŠ¤
calico_version_matrix:
  "1.23":
    recommended_version: "v3.24.6"
    minimum_version: "v3.22.0"
    operator_version: "v1.30.9"
  "1.24":
    recommended_version: "v3.25.2"
    minimum_version: "v3.23.0"
    operator_version: "v1.32.7"
  # ... ì¶”ê°€ ë²„ì „ë“¤
```

### **ì§€ì› ì„¤ì¹˜ ë°©ë²•**
1. **Operator ë°©ì‹**: Tigera Operatorë¥¼ í†µí•œ ê´€ë¦¬í˜• ì„¤ì¹˜
2. **Manifest ë°©ì‹**: YAML ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ í†µí•œ ì§ì ‘ ì„¤ì¹˜

### **ì•ˆì „ì„± ê¸°ëŠ¥**
- âœ… **ìë™ ë°±ì—…**: ì—…ê·¸ë ˆì´ë“œ ì „ ê¸°ì¡´ ì„¤ì • ë°±ì—…
- âœ… **ì ì§„ì  ì—…ê·¸ë ˆì´ë“œ**: ë‹¨ê³„ë³„ ì—…ê·¸ë ˆì´ë“œ ì§„í–‰
- âœ… **ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸**: ì—…ê·¸ë ˆì´ë“œ í›„ ì—°ê²°ì„± ê²€ì¦
- âœ… **ë¡¤ë°± ì§€ì›**: ì‹¤íŒ¨ ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µêµ¬

---

## ğŸ“ **ì‚¬ìš© ì˜ˆì œ**

### **ê¸°ë³¸ ì‚¬ìš©ë²•**
```bash
# Kubernetes í´ëŸ¬ìŠ¤í„° ì—…ê·¸ë ˆì´ë“œ (Calico í¬í•¨)
ansible-playbook -i inventory/hosts playbook.yml \
  -e k8s_upgrade_phase=control_plane

# Calicoë§Œ ì—…ê·¸ë ˆì´ë“œ
ansible-playbook -i inventory/hosts playbook.yml \
  --tags calico
```

### **ê³ ê¸‰ ì„¤ì •**
```yaml
# group_vars/all.yml
k8s_calico_upgrade_enabled: true
k8s_calico_force_upgrade: false
k8s_calico_backup_enabled: true
k8s_calico_upgrade_timeout: 300
k8s_calico_network_test: true
```

---

## âš ï¸ **ì£¼ì˜ì‚¬í•­ ë° ì œí•œì‚¬í•­**

### **ì—…ê·¸ë ˆì´ë“œ ì „ í™•ì¸ì‚¬í•­**
1. **ë„¤íŠ¸ì›Œí¬ ì •ì±…**: ê¸°ì¡´ NetworkPolicy ì„¤ì • í™•ì¸
2. **CNI ì¶©ëŒ**: ë‹¤ë¥¸ CNI í”ŒëŸ¬ê·¸ì¸ê³¼ì˜ ì¶©ëŒ ì—¬ë¶€ í™•ì¸
3. **ì»¤ìŠ¤í…€ ì„¤ì •**: ì‚¬ìš©ì ì •ì˜ Calico ì„¤ì • ë°±ì—…

### **ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš°**
- Kubernetes 1.22 ì´í•˜ ë²„ì „
- Flannelì—ì„œ Calicoë¡œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ (ë³„ë„ ë„êµ¬ í•„ìš”)
- ë©€í‹° CNI í™˜ê²½

---

## ğŸ”— **ì°¸ê³  ìë£Œ**

### **ê³µì‹ ë¬¸ì„œ**
- [Calico ê³µì‹ ë¬¸ì„œ](https://docs.tigera.io/calico/latest/)
- [Kubernetes ë„¤íŠ¸ì›Œí‚¹ ê°€ì´ë“œ](https://kubernetes.io/docs/concepts/cluster-administration/networking/)

### **í˜¸í™˜ì„± ì •ë³´**
- [Calico ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­](https://docs.tigera.io/calico/latest/getting-started/bare-metal/requirements)
- [Kubernetes ë²„ì „ ì •ì±…](https://kubernetes.io/releases/version-skew-policy/)

### **ì„±ëŠ¥ ìµœì í™”**
- [Calico ìˆ˜ì§ í™•ì¥ ê°€ì´ë“œ](https://www.tigera.io/blog/calicos-3-26-0-update-unlocks-high-density-vertical-scaling-in-kubernetes/)
- [eBPF ë°ì´í„°í”Œë ˆì¸ ì„±ëŠ¥](https://www.tigera.io/blog/introducing-the-calico-ebpf-dataplane/)

---

## ğŸ“ˆ **í–¥í›„ ê³„íš**

### **ë‹¨ê¸° ê³„íš**
- [ ] Kubernetes 1.28-1.30 ë²„ì „ ì§€ì› ì¶”ê°€
- [ ] Calico 3.29-3.30 ë²„ì „ ì§€ì›
- [ ] ìë™ ì„±ëŠ¥ íŠœë‹ ê¸°ëŠ¥

### **ì¥ê¸° ê³„íš**
- [ ] Cilium ì§€ì› ì¶”ê°€
- [ ] ë©€í‹° CNI ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬
- [ ] ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§

---

**ğŸ“… ë¬¸ì„œ ì—…ë°ì´íŠ¸**: {{ ansible_date_time.date }}  
**ğŸ”„ ë§ˆì§€ë§‰ ê²€ì¦**: Calico 3.30.x, Kubernetes 1.27.x 